@page "/"
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthenticationStateProvider

<MudContainer MaxWidth="MaxWidth.Medium" Class="pa-4 text-center">
    <MudText Typo="Typo.h5" Align="Align.Center">Welcome to UICrafter!</MudText>

    <AuthorizeView>
        <Authorized>
            <MudText Typo="Typo.body1" Align="Align.Center" Class="mt-4 animate__animated animate__fadeIn">
                You select a view here:
            </MudText>

            <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="/appview" Class="mt-2 animate__animated animate__pulse animate__infinite">
                App Views
            </MudButton>
        </Authorized>
        <NotAuthorized>
            <MudText Typo="Typo.body1" Align="Align.Center" Class="mt-4">
                Please log in or register to access your views.
            </MudText>

            <MudStack Spacing="1" Justify="Justify.Center" AlignItems="AlignItems.Center" Class="mt-4">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="Login" Class="login-button animate__animated animate__fadeIn">
                    Login or Register
                </MudButton>
            </MudStack>
            </NotAuthorized>

    </AuthorizeView>  
</MudContainer>

@code {
    public Task Login()
    {
        return ((CustomAuthStateProvider)AuthenticationStateProvider)
            .LogInAsync();
    }
}

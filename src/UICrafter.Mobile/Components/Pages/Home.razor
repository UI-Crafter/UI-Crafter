@page "/"
@inject AuthenticationStateProvider AuthenticationStateProvider

<MudContainer MaxWidth="MaxWidth.Medium" Class="pa-4 text-center ma-auto">
    <MudText Typo="Typo.h4" Align="Align.Center">Welcome to Our App!</MudText>

    <AuthorizeView>
        <Authorized>
            <MudText Typo="Typo.body1" Align="Align.Center" Class="mt-4">
                You can explore the app by clicking below:
            </MudText>

            <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="/appview" Class="mt-2">
                App Views
            </MudButton>
        </Authorized>
        <NotAuthorized>
            <MudText Typo="Typo.body1" Align="Align.Center" Class="mt-4">
                Please log in or register to access your views.
            </MudText>

            <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="Login">
                Login
            </MudButton>
        </NotAuthorized>
    </AuthorizeView>
</MudContainer>

@code {
    public Task Login()
    {
        return ((CustomAuthStateProvider)AuthenticationStateProvider)
            .LogInAsync();
    }
}
